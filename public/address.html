<!DOCTYPE html>
<html>
<head>
<title>ORION TX VISUALIZER</title>

<script src="lib/jquery-2.1.1.min.js"></script>
<script src="lib/qrcode.js"></script>
<style>
    html,body{
        font-family: "Calibri", "Arial", "sans-serif";
		background-color: #2e1f2e;
		margin: 0px;
		padding: 0px;
		height: 100%;
    }
	div{
		padding: 5px;
	}
	input{
		background-color: #2d1e2d;
		color: #f3f3f3;
		border: 2px solid #000;
		border-radius: 7px;
	}
    h4{
        margin: -5px;
    }
    #searchOutput{
        position: absolute;
        right: 4px;
        top:50px;
        text-align: right;
		z-index: 10;
    }
    #splash{
		width: 100%;
		height: 1000px;
		background-color: #2e1f2e;
		color: #f2f2f2;
		font-size: 36px;
		display: block;
		position: fixed;
		top: 0px;
	}
	#container{
		display: none;
	}
	#txbar{
		display: inline-block;
		position: absolute; 
		top: 5px;
		left: 26%;
	}
	#navbanner{
		position: fixed;
		top: 0px;
		display: block;
		width: 100%;
		padding: 7px;
		background-color: #0e0f0e;
		color: #fff;
	}
	.inum{
		width: 40px;
		display: inline-block;
		margin: 0px;
		border: 1px solid #000;
	}
	.iacct{
		width: 680px;
		display: inline-block;
		margin: 0px;
		border: 1px solid #000;
	}
	.ivalue{
		width: 220px;
		display: inline-block;
		margin: 0px;
		border: 1px solid #000;
	}
	#addr-container{
		padding: 10px;
		color: #e3e3e3;
	}
	#addr-container a{
		color: #d2d2e3;
	}
	#addr-container a:visited{
		color: #d2d2e3;
	}
	#qrfloat{
		display: none;
		position: fixed;
		right: 10px;
		top: 90px;
	}
	#assochrd{
		display: none;
	}
  </style>
</head>

<body>
<div id="splash"><center><br><br><br><br><br><br><br><div class="alien-wrapper position-relative">
            <img src="logo.png"/>
            
        </div><br><em>ORION</em><br><span style="position:relative; top: -10px; font-size:16px;"><em>[TRANSACTION VISUALIZER]</em></span></center></div>
<div id="container"> 
<div id="addr-container">
<br><br>
<h2>Address <span id="addrHdr" onmouseover="return showQR(this);" onmouseleave="return hideQR();"></span><span id="addrLbl"></span></h2>
Balance:  <input type="text" id="balance"><br>
Total Received:  <input type="text" id="totreceived"><br>
Pending:  <input type="text" id="pending"><br>
# of Transactions:  <input type="text" id="txsnum"><br><br>
<span id="assochrd">Associations:</span>
<div id="assocs"></div>
<h2>Transactions</h2>
<div id="txsContainer">
<div class="inum"><b>#</b></div><div class="iacct"><b>Transaction</b></div><div class="ivalue"><b>Time</b></div><br>
</div>

<input type="hidden" id="priceholder">
<div id="qrfloat"></div>
</div>  
</div>

<div id="searchOutput"></div>
<div id="navbanner"><span style="color: #fff; font-family: 'Courier New', 'Times New Roman', serif; font-size: 18px; cursor: pointer;" onclick="window.location.replace('../../');">ORION</span><div id="txbar"><input type="text" id="txQuery" placeholder="TRANSACTION ID" style="padding: 3px; font-size: 11px; width: 550px;"> <button onclick="explore();" style="padding: 4px; font-weight: bold; font-size: 9px; background-color: #0e0f0e; color: #AEE7F8; border: 1px solid #2e2f2e; cursor: pointer;">VIEW</button></div></div>

<script>
function explore(){
	var txInput = $("#txQuery").val();
	
	if(txInput.length==64){
		//txid
		var url = "../public/orion.html?q="+txInput;
	} else {
		//address
		var url = "../public/address.html?q="+txInput;
	}
	
	window.location.replace(url);
}

window.onload = function(){

	knownAddresses = [
		{"address":"bc1qm34lsc65zpw79lxes69zkqmk6ee3ewf0j77s3h","label":"Binance Hot Wallet"},
		{"address":"325gSHHe7UGvzEc9kGx43VqPboXUVwa26i","label":"FTX Hot Wallet"},
		{"address":"bc1q9d4ywgfnd8h43da5tpcxcn6ajv590cg6d3tg6axemvljvt2k76zs50tv4q","label":"Luna Foundation Guard"},
		{"address":"18saWjMCchDTGWunefuDJSWNdz4p6KtfBL","label":"Coinbase Cold Wallet"},
		{"address":"13nwifHUz5ZfHuQhk5ETJ4BhmqbuQdvTFp","label":"Coinbase Cold Wallet"},
		{"address":"1PL2cmmMLmGGDtqaSZJY8DR1iKJaziEPJv","label":"Coinbase Cold Wallet"},
		{"address":"1Dt4Q2ofKUtHwvjN45tAUfikNBfJrDERcZ","label":"Coinbase Cold Wallet"},
		{"address":"3CP62cZgAgx4yAHnxNFCqT17LJERhVwz4C","label":"CashApp Hot Wallet"},
		{"address":"1Kr6QSydW9bFQG1mXiPNNu6WpJGmUa9i1g","label":"Bitfinex Hot Wallet"},
		{"address":"37biYvTEcBVMoR1NGkPTGvHUuLTrzcLpiv","label":"Bitvavo Hot Wallet"},
		{"address":"38MfJkxPkpwsZxkyfESwjdaKBdXrV8DpWr","label":"Coinbase Hot Wallet"},
		{"address":"38XnPvu9PmonFU9WouPXUjYbW91wa5MerL","label":"Coinbene Hot Wallet"},
		{"address":"1BKN5obhkdoequshHnn96zZvFi3wCEdfiC","label":"Houbi Hot Wallet"},
		{"address":"1VERF5rDyVoS4mPCbK68vSGpVo95cAXRm","label":"Gemini Hot Wallet"},
		{"address":"143gLvWYUojXaWZRrxquRKpVNTkhmr415B","label":"Houbi Hot Wallet"},
		{"address":"bc1qprdf80adfz7aekh5nejjfrp3jksc8r929svpxk","label":"Robinhood Hot Wallet"},
		{"address":"175W8Shwohvct5FqexygeAfZ5fQw6YfjBb","label":"Binance CJ Wallet"},
		{"address":"16D3ccg8dGhfMiyzqAfgBPcTWtU5kQ84ym","label":"Binance CJ Wallet"},
		{"address":"1NgzvomjEyj2qk1F4p9yVt5CxKhaLLd4V9","label":"Bybit"},
		{"address":"1GrwDkr33gT6LuumniYjKEGjTLhsL5kmqC","label":"Bybit Hot Wallet"},
		{"address":"1QFsAZb9puEnhxVB83evJAh6sw1x87LeW1","label":"Uphold"},
		{"address":"198aH8WvanRkbQvB4HQuz68Mq3gyACcDQx","label":"Uphold"},
		{"address":"bc1quhruqrghgcca950rvhtrg7cpd7u8k6svpzgzmrjy8xyukacl5lkq0r8l2d","label":"OKX"},
		{"address":"bc1q7cyrfmck2ffu2ud3rn5l5a8yv6f0chkp0zpemf","label":"Crypto.com"},
		{"address":"bc1qwqdg6squsna38e46795at95yu9atm8azzmyvckulcc7kytlcckxswvvzej","label":"BitFlyer"},
		{"address":"3JSdUu1ivm3rqMvuCTAdAj6Dc2hdVhHiEe","label":"TotalCoin Exchange"},
		{"address":"1GQdrgqAbkeEPUef1UpiTc4X1mUHMcyuGW","label":"Binance"},
		{"address":"bc1q0qlagnl53xz6g7fl8tapwa0zt9u2nztx0tpyp3","label":"Kraken"},
		{"address":"3E2adcep2NRRpriLnWn1AvW3AHKqBx2mMr","label":"Kraken"},
		{"address":"3KTQYXvjteNoMECi62JYuqXobYQpcHjoVs","label":"Kraken"},
		{"address":"bc1q8yja3gw33ngd8aunmfr4hj820adc9nlsv0syvz","label":"Kucoin"},
		{"address":"1HiXa8YkzaSnxAHN9YBjHDrVWrDhaFGtB1","label":"ViaBTC"},
		{"address":"31rfNmts4ucjRy9CXH343rCY8J3WSfDQ73","label":"BitMex Hot Wallet"},
		{"address":"3QiETomgUhPu573ZvhXbdofq7y5ocNS1ie","label":"BitMex Hot Wallet"},
		{"address":"3JjPf13Rd8g6WAyvg8yiPnrsdjJt1NP4FC","label":"BitMex Hot Wallet"},
		{"address":"1EEqRvnS7XqMoXDcaGL7bLS3hzZi1qUZm1","label":"HitBTC Hot Wallet"},
		{"address":"13oX1mA6zggC5Y5LPVf9YDeykNa4sar7wZ","label":"Binance Hot Wallet"},
		{"address":"1MdEuAh1ii5GCfX2unT76CmREfPFB6cca4","label":"Binance"},
		{"address":"3F73gRxog7wLmsmhXUBnFKbQa1TtSGqaYG","label":"Binance"},
		{"address":"3HVLXgm11E4dAbjR3cDYMqDpMdjqtPiqDE","label":"Binance"},
		{"address":"3BSGX8yTdD7v7PTzYFDWRAEAgHLVVUffRZ","label":"Binance"},
		{"address":"37JnwcTrBuLhytSYTscFUB4UnCEMPbvfXX","label":"Binance"},
		{"address":"bc1qqfpqqy6h4xgmy4ucrugpah4q2x6qpwu9yrn5qu","label":"Binance"},
		{"address":"1F3Ui6SEo4i6qDGK79p9n22J4idUcom7JG","label":"ByBit"},
		{"address":"1JZAzU9bknNPoSL6PXUZfs2o367FcTEgoC","label":"Huobi"},
		{"address":"1EwyRYQrYbYGTVVHLQX44vrzagbHHMGYkn","label":"Huobi"},
		{"address":"bc1qlqy2py5fryr64m7f6djv0sf8d5j7pchf70vzap","label":"Huobi"},
		{"address":"bc1qng0keqn7cq6p8qdt4rjnzdxrygnzq7nd0pju8q","label":"Huobi"},
		{"address":"16Uz37Q6TfvK2UFTgamn3dyRjnP2Wtf4p2","label":"Cumberland Mining"},
		{"address":"bc1q8s3h3vw5xufdas890q29lpuca56r0ezqar0mvs","label":"Cumberland Mining"},
		{"address":"3PQstJuScWBgP1QAaxbCTpuzrYkG73dZi4","label":"BitFlyer"},
		{"address":"3JcWcMPtxGaCuhKeucTMe1V865t7UhrNnT","label":"OKX"},
		{"address":"3NeGJChsjbEn3j7PXXHXyXfqQKmyFyyxup","label":"Kucoin"},
		{"address":"bc1qw8wrek2m7nlqldll66ajnwr9mh64syvkt67zlu","label":"Kraken"},
		{"address":"16GnRigCNf6eEJJ8F1sT8ttzpS5RdS1gSS","label":"Binance"},
		{"address":"1EKYhyU4hK7vt76J71Vow6QjX7R5gn4Rk8","label":"Binance"},
		{"address":"1KE2ahPUPTCGyKSs2GUucoU8E4yoriKYsB","label":"Binance"},
		{"address":"12bjYoRBE8MNsGjYBg6SfqvPtZSE85h9XK","label":"Binance"},
		{"address":"bc1qspp5aahnp20mfvk4w3e774f5sgqzsqvcnd9k8f","label":"Binance"},
		{"address":"14VKrFTjDTAUcGb6fz58tbPdCLS7uiTsxm","label":"Uphold"},
		{"address":"16EFGkAsqgH8nbU8TJKNV8gSNSrgBSe5Nw","label":"Uphold"},
		{"address":"3JodN7GmkHdPgKj9G7HCkn9NDLhrcWCjVN","label":"Coinspaid"},
		{"address":"1Ez2PGrQgkrGnCiJyWSQ56GdsYRWcEqegr","label":"ByBit"},
		{"address":"1HckjUpRGcrrRAtFaaCAUaGjsPx9oYmLaZ","label":"Huobi"},
		{"address":"1Gn55YUDJaWC2boJNx688u2v9iS9a8umL","label":"Binance"},
		{"address":"34HVDP9RFA9MpopGQ4TutLLVMFhhJFM9AX","label":"OKX"},
		{"address":"18DowXoMUQT5EU8zPTDTrq4hrwmi8ddCcc","label":"SwissBorg"},
		{"address":"bc1qc8ee9860cdnkyej0ag5hf49pcx7uvz89lkwpr9","label":"SwissBorg"},
		{"address":"bc1q8pmuc2v0cku2ty0rfxp2jyvrhv6lpsjzq9y6s8","label":"HitBTC"},
		{"address":"bc1q0zgt8lfgc5p8gz4rg76jkugj0duqtlfdps8zfv","label":"HitBTC"},
		{"address":"3JjPf13Rd8g6WAyvg8yiPnrsdjJt1NP4FC","label":"HitBTC"},
		{"address":"1DcKsGnjpD38bfj6RMxz945YwohZUTVLby","label":"HitBTC"},
		{"address":"bc1qwndtqm586uvs6m6penacgva4en33l9qqwrhdyj","label":"HitBTC"},
		{"address":"bc1qyy30guv6m5ez7ntj0ayr08u23w3k5s8vg3elmxdzlh8a3xskupyqn2lp5w","label":"BitFlyer"},
		{"address":"bc1qzjeg3h996kw24zrg69nge97fw8jc4v7v7yznftzk06j3429t52vse9tkp9","label":"BitFlyer"},
		{"address":"bc1qdl753ur9ucwa3cgfrud2nqvu7k69dykk3cwwx6g64a5szn3xw92sp8mc7a","label":"BitFlyer"},
		{"address":"bc1qns9f7yfx3ry9lj6yz7c9er0vwa0ye2eklpzqfw","label":"Fixed Float Exchange"},
		{"address":"bc1quq29mutxkgxmjfdr7ayj3zd9ad0ld5mrhh89l2","label":"Gemini Exchange"},
		{"address":"17QyR2ixNj1AgpD5ZuXubvSJ3gPPQVcsvp","label":"Binance"},
		{"address":"3MCMZjWAMdGqAhi1iF1oyiiE2jY5yBAYzV","label":"Kraken Exchange"},
		{"address":"3G519GSgpvBWkmssSv8DLm4gpZbQL6w482","label":"Crypto.com Exchange"},
		{"address":"15LeGqJMnZCTzLt82qZrvgv6TnQfrWoXqb","label":"Coincheck"},
		{"address":"3LuWimm9YW1qGqVE2GavGdBZ4VT59jdZzi","label":"Kraken"},
		{"address":"18sbD6SYrMYEVMSFsiMYMjuKRFBc8DoHPj","label":"Binance"},
		{"address":"3KuR8ebGjUjPd1KAYSjQ83vyWC8A6L3HKM","label":"Coinbase"},
		{"address":"3FLeScoroBKwsJxRpxNQ9DJyXkkR4AGgKj","label":"Kucoin"},
		{"address":"3FucgBReCnaJ7pnhDSYrvsqttZMQhUnqtj","label":"Bitfinex"},
		{"address":"3AVDWH1TYcrppdme6h2sGT8RGucNt3wivd","label":"BitFlyer"},
		{"address":"3JYYfHN9moSqfS6s52b2Bd25ZGhhoXji9F","label":"Bitfinex"},
		{"address":"1GPRueEBA6x3VkGse6F2Z9Sq3ZzvHvFUWL","label":"Gemini"},
		{"address":"1DijvTLrq7sH5VCHHopGRX3LDx5d7u1v2p","label":"Bybit"},
		{"address":"18XWQM4cUj81iJdMCpcZQgLkXzrgSAcwY3","label":"Huobi"},
		{"address":"3EaWcuNXQrW2JTGy5Cotm4pftovW8UfR2o","label":"Binance"},
		{"address":"bc1qnsupj8eqya02nm8v6tmk93zslu2e2z8chlmcej","label":"Coincheck"},
		{"address":"bc1qsw55gkezdyssgy6jg5fuxd6upmrc5r59llefly","label":"Coincheck"},
		{"address":"3LCGsSmfr24demGvriN4e3ft8wEcDuHFqh","label":"Coincheck Multisig"},
		{"address":"1H1YS6GyCPyA5Q6rmx58UzmeeDd3wXuFpN","label":"Poloniex"},
		{"address":"11FfmCYyg34pq9CMQHtcKXfZ7TAMLqfbw","label":"Huobi"},
		{"address":"1P7iuRDG9d9TQN4kDL3PTQnyEcMbiULqao","label":"Huobi"},
		{"address":"3DtBvZJQfMg1YAZi3mBs9xEjW2Racqn13k","label":"OKX"},
		{"address":"1L15W6b9vkxV81xW5HDtmMBycrdiettHEL","label":"Huobi"},
		{"address":"171UsY7qXj5W5BCFE28oZMB8xZx7TMjzeH","label":"Binance"},
		{"address":"3QKCocNhzAgtgFLsD5qUZcG6e4TkfRf421","label":"Coinbase"},
		{"address":"35D2tNKFmqiVrvXan6tdxgatZoCBimASmZ","label":"OKX"},
		{"address":"3CRX6fqyVhvu8NK92bphzHEdbzrVLTzj7W","label":"OKX"},
		{"address":"bc1qvx4ara9g7jfcucz7s3k43wk6hma363l0e54vdd","label":"Coincheck"},
		{"address":"18wqJJ9BFpeUf6pt1m81fac4e7brQRPfqL","label":"Bitstamp"},
		{"address":"1Bu9axpcouiraWVAnyYEGmxqZ3TZHf4rsd","label":"Binance"},
		{"address":"1E3FH5wQpFXWjYqV76ejM1L1dmL97aUGtq","label":"ByBit"},
		{"address":"35quUe8cBko5SeMjE3nGvEPKphHy8Xge8d","label":"OKX Multisig"},
		{"address":"bc1pd4tq6cd4xma8x8mpkjcejygd9ls4uhcjvkvpm06lrtsjwgj7deyszmpt56","label":"OKX Taproot"},
		{"address":"bc1pjrw57t2dj778rlyk9520mjw9rxhss7xekmvt7h7pte89vg3pjpms2ckmz5","label":"OKX Taproot"},
		{"address":"bc1qj2me4u9zeuzw7965c7y8wgff92z2u9xz88asqq","label":"Gemini"},
		{"address":"bc1qwfgdjyy95aay2686fn74h6a4nu9eev6np7q4fn204dkj3274frlqrskvx0","label":"Luno"}
		];
	
	knownCheck = [
		"bc1qm34lsc65zpw79lxes69zkqmk6ee3ewf0j77s3h",
		"325gSHHe7UGvzEc9kGx43VqPboXUVwa26i",
		"bc1q9d4ywgfnd8h43da5tpcxcn6ajv590cg6d3tg6axemvljvt2k76zs50tv4q",
		"18saWjMCchDTGWunefuDJSWNdz4p6KtfBL",
		"13nwifHUz5ZfHuQhk5ETJ4BhmqbuQdvTFp",
		"1PL2cmmMLmGGDtqaSZJY8DR1iKJaziEPJv",
		"1Dt4Q2ofKUtHwvjN45tAUfikNBfJrDERcZ",
		"3CP62cZgAgx4yAHnxNFCqT17LJERhVwz4C",
		"1Kr6QSydW9bFQG1mXiPNNu6WpJGmUa9i1g",
		"37biYvTEcBVMoR1NGkPTGvHUuLTrzcLpiv",
		"38MfJkxPkpwsZxkyfESwjdaKBdXrV8DpWr",
		"38XnPvu9PmonFU9WouPXUjYbW91wa5MerL",
		"1BKN5obhkdoequshHnn96zZvFi3wCEdfiC",
		"1VERF5rDyVoS4mPCbK68vSGpVo95cAXRm",
		"143gLvWYUojXaWZRrxquRKpVNTkhmr415B",
		"bc1qprdf80adfz7aekh5nejjfrp3jksc8r929svpxk",
		"175W8Shwohvct5FqexygeAfZ5fQw6YfjBb",
		"16D3ccg8dGhfMiyzqAfgBPcTWtU5kQ84ym",
		"1NgzvomjEyj2qk1F4p9yVt5CxKhaLLd4V9",
		"1GrwDkr33gT6LuumniYjKEGjTLhsL5kmqC",
		"1QFsAZb9puEnhxVB83evJAh6sw1x87LeW1",
		"198aH8WvanRkbQvB4HQuz68Mq3gyACcDQx",
		"bc1quhruqrghgcca950rvhtrg7cpd7u8k6svpzgzmrjy8xyukacl5lkq0r8l2d",
		"bc1q7cyrfmck2ffu2ud3rn5l5a8yv6f0chkp0zpemf",
		"bc1qwqdg6squsna38e46795at95yu9atm8azzmyvckulcc7kytlcckxswvvzej",
		"3JSdUu1ivm3rqMvuCTAdAj6Dc2hdVhHiEe",
		"1GQdrgqAbkeEPUef1UpiTc4X1mUHMcyuGW",
		"bc1q0qlagnl53xz6g7fl8tapwa0zt9u2nztx0tpyp3",
		"3E2adcep2NRRpriLnWn1AvW3AHKqBx2mMr",
		"3KTQYXvjteNoMECi62JYuqXobYQpcHjoVs",
		"bc1q8yja3gw33ngd8aunmfr4hj820adc9nlsv0syvz",
		"1HiXa8YkzaSnxAHN9YBjHDrVWrDhaFGtB1",
		"31rfNmts4ucjRy9CXH343rCY8J3WSfDQ73",
		"3QiETomgUhPu573ZvhXbdofq7y5ocNS1ie",
		"3JjPf13Rd8g6WAyvg8yiPnrsdjJt1NP4FC",
		"1EEqRvnS7XqMoXDcaGL7bLS3hzZi1qUZm1",
		"13oX1mA6zggC5Y5LPVf9YDeykNa4sar7wZ",
		"1MdEuAh1ii5GCfX2unT76CmREfPFB6cca4",
		"3F73gRxog7wLmsmhXUBnFKbQa1TtSGqaYG",
		"3HVLXgm11E4dAbjR3cDYMqDpMdjqtPiqDE",
		"3BSGX8yTdD7v7PTzYFDWRAEAgHLVVUffRZ",
		"37JnwcTrBuLhytSYTscFUB4UnCEMPbvfXX",
		"bc1qqfpqqy6h4xgmy4ucrugpah4q2x6qpwu9yrn5qu",
		"1F3Ui6SEo4i6qDGK79p9n22J4idUcom7JG",
		"1JZAzU9bknNPoSL6PXUZfs2o367FcTEgoC",
		"1EwyRYQrYbYGTVVHLQX44vrzagbHHMGYkn",
		"bc1qlqy2py5fryr64m7f6djv0sf8d5j7pchf70vzap",
		"bc1qng0keqn7cq6p8qdt4rjnzdxrygnzq7nd0pju8q",
		"16Uz37Q6TfvK2UFTgamn3dyRjnP2Wtf4p2",
		"bc1q8s3h3vw5xufdas890q29lpuca56r0ezqar0mvs",
		"3PQstJuScWBgP1QAaxbCTpuzrYkG73dZi4",
		"3JcWcMPtxGaCuhKeucTMe1V865t7UhrNnT",
		"3NeGJChsjbEn3j7PXXHXyXfqQKmyFyyxup",
		"bc1qw8wrek2m7nlqldll66ajnwr9mh64syvkt67zlu",
		"16GnRigCNf6eEJJ8F1sT8ttzpS5RdS1gSS",
		"1EKYhyU4hK7vt76J71Vow6QjX7R5gn4Rk8",
		"1KE2ahPUPTCGyKSs2GUucoU8E4yoriKYsB",
		"12bjYoRBE8MNsGjYBg6SfqvPtZSE85h9XK",
		"bc1qspp5aahnp20mfvk4w3e774f5sgqzsqvcnd9k8f",
		"14VKrFTjDTAUcGb6fz58tbPdCLS7uiTsxm",
		"16EFGkAsqgH8nbU8TJKNV8gSNSrgBSe5Nw",
		"3JodN7GmkHdPgKj9G7HCkn9NDLhrcWCjVN",
		"1Ez2PGrQgkrGnCiJyWSQ56GdsYRWcEqegr",
		"1HckjUpRGcrrRAtFaaCAUaGjsPx9oYmLaZ",
		"1Gn55YUDJaWC2boJNx688u2v9iS9a8umL",
		"34HVDP9RFA9MpopGQ4TutLLVMFhhJFM9AX",
		"18DowXoMUQT5EU8zPTDTrq4hrwmi8ddCcc",
		"bc1qc8ee9860cdnkyej0ag5hf49pcx7uvz89lkwpr9",
		"bc1q8pmuc2v0cku2ty0rfxp2jyvrhv6lpsjzq9y6s8",
		"bc1q0zgt8lfgc5p8gz4rg76jkugj0duqtlfdps8zfv",
		"3JjPf13Rd8g6WAyvg8yiPnrsdjJt1NP4FC",
		"1DcKsGnjpD38bfj6RMxz945YwohZUTVLby",
		"bc1qwndtqm586uvs6m6penacgva4en33l9qqwrhdyj",
		"bc1qyy30guv6m5ez7ntj0ayr08u23w3k5s8vg3elmxdzlh8a3xskupyqn2lp5w",
		"bc1qzjeg3h996kw24zrg69nge97fw8jc4v7v7yznftzk06j3429t52vse9tkp9",
		"bc1qdl753ur9ucwa3cgfrud2nqvu7k69dykk3cwwx6g64a5szn3xw92sp8mc7a",
		"bc1qns9f7yfx3ry9lj6yz7c9er0vwa0ye2eklpzqfw",
		"bc1quq29mutxkgxmjfdr7ayj3zd9ad0ld5mrhh89l2",
		"17QyR2ixNj1AgpD5ZuXubvSJ3gPPQVcsvp",
		"3MCMZjWAMdGqAhi1iF1oyiiE2jY5yBAYzV",
		"3G519GSgpvBWkmssSv8DLm4gpZbQL6w482",
		"15LeGqJMnZCTzLt82qZrvgv6TnQfrWoXqb",
		"3LuWimm9YW1qGqVE2GavGdBZ4VT59jdZzi",
		"18sbD6SYrMYEVMSFsiMYMjuKRFBc8DoHPj",
		"3KuR8ebGjUjPd1KAYSjQ83vyWC8A6L3HKM",
		"3FLeScoroBKwsJxRpxNQ9DJyXkkR4AGgKj",
		"3FucgBReCnaJ7pnhDSYrvsqttZMQhUnqtj",
		"3AVDWH1TYcrppdme6h2sGT8RGucNt3wivd",
		"3JYYfHN9moSqfS6s52b2Bd25ZGhhoXji9F",
		"1GPRueEBA6x3VkGse6F2Z9Sq3ZzvHvFUWL",
		"1DijvTLrq7sH5VCHHopGRX3LDx5d7u1v2p",
		"18XWQM4cUj81iJdMCpcZQgLkXzrgSAcwY3",
		"3EaWcuNXQrW2JTGy5Cotm4pftovW8UfR2o",
		"bc1qnsupj8eqya02nm8v6tmk93zslu2e2z8chlmcej",
		"bc1qsw55gkezdyssgy6jg5fuxd6upmrc5r59llefly",
		"3LCGsSmfr24demGvriN4e3ft8wEcDuHFqh",
		"1H1YS6GyCPyA5Q6rmx58UzmeeDd3wXuFpN",
		"11FfmCYyg34pq9CMQHtcKXfZ7TAMLqfbw",
		"1P7iuRDG9d9TQN4kDL3PTQnyEcMbiULqao",
		"3DtBvZJQfMg1YAZi3mBs9xEjW2Racqn13k",
		"1L15W6b9vkxV81xW5HDtmMBycrdiettHEL",
		"171UsY7qXj5W5BCFE28oZMB8xZx7TMjzeH",
		"3QKCocNhzAgtgFLsD5qUZcG6e4TkfRf421",
		"35D2tNKFmqiVrvXan6tdxgatZoCBimASmZ",
		"3CRX6fqyVhvu8NK92bphzHEdbzrVLTzj7W",
		"bc1qvx4ara9g7jfcucz7s3k43wk6hma363l0e54vdd",
		"18wqJJ9BFpeUf6pt1m81fac4e7brQRPfqL",
		"1Bu9axpcouiraWVAnyYEGmxqZ3TZHf4rsd",
		"1E3FH5wQpFXWjYqV76ejM1L1dmL97aUGtq",
		"35quUe8cBko5SeMjE3nGvEPKphHy8Xge8d",
		"bc1pd4tq6cd4xma8x8mpkjcejygd9ls4uhcjvkvpm06lrtsjwgj7deyszmpt56",
		"bc1pjrw57t2dj778rlyk9520mjw9rxhss7xekmvt7h7pte89vg3pjpms2ckmz5",
		"bc1qj2me4u9zeuzw7965c7y8wgff92z2u9xz88asqq",
		"bc1qwfgdjyy95aay2686fn74h6a4nu9eev6np7q4fn204dkj3274frlqrskvx0"
	];
	
	function checkList(checkOutputScript){
		if(knownCheck.includes(checkOutputScript)){
			var findindex = knownCheck.indexOf(checkOutputScript);
			var thislabel = knownAddresses[findindex].label;
		} else {
			var thislabel = "unknown";
		}
		return thislabel;
	}
	
	$("#splash").fadeOut(5000);
    $("#container").fadeIn(8000);
    
	var searchParams = new URLSearchParams(window.location.search);
	

	if(searchParams.has('q')){
		var param = searchParams.get('q');
	} else {	
		//default addr to load if random recent tx ajax query fails
		var param = "bc1qm34lsc65zpw79lxes69zkqmk6ee3ewf0j77s3h";
		
		var randomKnownIndex = Math.random() * knownCheck.length;
		randomKnownIndex = Math.floor(randomKnownIndex);
		var randomKnown = knownCheck[randomKnownIndex];
		
		param = randomKnown;
		
	}
	
	document.getElementById("txQuery").value = param;
	document.getElementById("addrHdr").innerHTML = param;
	document.getElementById("addrLbl").innerHTML = " ("+checkList(param)+")";
	console.log("start");
	
	var urlGetAddr = "https://mempool.space/api/address/"+param; 
	var urlGetTxs = "https://mempool.space/api/address/"+param+"/txs";
	
	$.ajax({
			async: false,
			type: "GET",
			url: urlGetTxs,
			success: function(result) {
				console.log("addr txs ajax success");
				var txapi = result;
				//console.log(result);
				
				/*
				0
					: 
					fee	: 	191344
					locktime	: 	0
					sigops	: 	0
					size	: 	923
					status		: 			{confirmed: false}
					txid		: 					"253aafcd803e1fc0768eb07804ecf9e81221d9c1031de8cbcdcd67b7330c7436"
					version	: 	2
					vin	: 	(6) [{…}, {…}, {…}, {…}, {…}, {…}]
					vout: 	[{…}]
					weight	: 	3692
				*/
				var txslength = txapi.length;
				
				var catchlabels = [];
				for(var i=0;i<txslength;i++){
					var addrinputstr = "";
					var addroutputstr = "";
					var formattime = timeConverter(txapi[i].status.block_time);
					for(var ii=0;ii<txapi[i].vout.length;ii++){
						var loopaddr = txapi[i].vout[ii].scriptpubkey_address;
						var wholebtcs = parseFloat(txapi[i].vout[ii].value/100000000);
						addroutputstr += loopaddr+" <span style='float: right; margin-bottom: 7px; padding: 4px; background-color: #14A44D;'>"+wholebtcs+" BTC</span><br>";
						if(checkList(loopaddr)==="unknown"){
							
						} else {
							//turn on associations
							document.getElementById("assochrd").style.display = "block";
							if(catchlabels.includes(checkList(loopaddr))){
								//
							} else {
								catchlabels.push(checkList(loopaddr));
							}
							
						}
					}
					
					for(var iii=0;iii<txapi[i].vin.length;iii++){
						var loopinaddr = txapi[i].vin[iii].prevout.scriptpubkey_address;
						var wholebtcval = parseFloat(txapi[i].vin[iii].prevout.value/100000000);
						addrinputstr += loopinaddr+" <span style='float: right; margin-bottom: 7px; padding: 4px; background-color: #DC4C64;'>"+wholebtcval+" BTC</span><br>";
						if(checkList(loopinaddr)==="unknown"){
							
						} else {
							//turn on associations
							document.getElementById("assochrd").style.display = "block";
							if(catchlabels.includes(checkList(loopinaddr))){
								//
							} else {
								catchlabels.push(checkList(loopinaddr));
							}
							
						}
						
					}
					console.log(txapi[i].status.block_time);
					$("#txsContainer").append('<div class="inum">'+i+'</div><div class="iacct"><table><tr><td align="left">'+addrinputstr+'</td><td align="right">'+addroutputstr+'</td></tr></table><a href="../public/tx.html?q='+txapi[i].txid+'">'+txapi[i].txid+'</a> - <a href="../public/orion.html?q='+txapi[i].txid+'">View &#8886; Chart</a></div><div class="ivalue">'+formattime+'</div><br>');
				}
				
				
				
				for(i=0;i<catchlabels.length;i++){
					$("#assocs").append('<div class="iacct">'+catchlabels[i]+'</div><br>');
				}
				
				}
			});
	
		$.ajax({
			async: false,
			type: "GET",
			url: urlGetAddr,
			success: function(result) {
				console.log("addr ajax success");
				var addrapi = result;
				var totalreceived = addrapi.chain_stats.funded_txo_sum;
				var totalsent = addrapi.chain_stats.spent_txo_sum;
				var totaltxs = addrapi.chain_stats.tx_count;
				var pendingtxs = addrapi.mempool_stats.tx_count;
				var pendingamt = addrapi.mempool_stats.funded_txo_sum;
				var endingbalance = (totalreceived - totalsent)/100000000;
				endingbalance = parseFloat(endingbalance).toFixed(8);
				totalreceived = totalreceived/100000000;
				totalreceived = parseFloat(totalreceived).toFixed(8);
				//console.log(result);
				document.getElementById("totreceived").value = totalreceived;
				document.getElementById("pending").value = pendingamt;
				document.getElementById("txsnum").value = totaltxs;
				document.getElementById("balance").value = endingbalance;
				}
			});
	
	
}

function timeConverter(UNIX_timestamp){
  var a = new Date(UNIX_timestamp * 1000);
  if(isNaN(UNIX_timestamp)){
	  var time = "unconfirmed";
	  return time;
  } else {
	  var months = ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];
	  var year = a.getFullYear();
	  var month = months[a.getMonth()];
	  var date = a.getDate();
	  var hour = a.getHours();
	  var min = a.getMinutes();
	  var sec = a.getSeconds();
	  var time = date + ' ' + month + ' ' + year + ' ' + hour + ':' + min + ':' + sec ;
	  return time;
  }
  
}
    
function showQR(elemQR){
	let elementValue = elemQR.innerHTML;
	document.getElementById("qrfloat").style.display = "block";
	document.getElementById("qrfloat").innerHTML = "";
	new QRCode(document.getElementById("qrfloat"),elementValue);
	
}
function hideQR(){
	document.getElementById("qrfloat").style.display = "none";
}
</script>
</body>
</html>